@using NewLibCore
@using NewCrmCore.Dto
@using NewCrmCore.Domain.ValueObject;
@model AppDto
@{
    Layout = "~/Views/Shared/_LayoutRoot.cshtml";
    var userId = ViewData["UserId"].ToString() ?? "0";
}
@section ChildrenCss
    {
    <link href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.1/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/webuploader/0.1.1/webuploader.css" rel="stylesheet">
    <style>
        * {
            box-sizing: unset;
        }
    </style>
}
@section SysCss
    {
    <link rel="stylesheet" href="/css/hoorayui/sys.css" />
}

@{
    if (Model != null)
    {
        if ((AppAuditState)ViewData["AppState"] == AppAuditState.Pass)//已通过
        {
            <text>
                @Html.Partial("~/Views/AppMarket/UserAppManageDetail.cshtml", Model)
            </text>
        }
        else
        {
            if ((AppAuditState)ViewData["AppState"] == AppAuditState.UnAuditState || (AppAuditState)ViewData["AppState"] == AppAuditState.Deny)//未审核或未通过
            {
                <text>
                    @Html.Partial("~/Views/AppManager/AppAudit.cshtml", Model)
                </text>
            }
            else
            {
                <text>
                    @Html.Partial("~/Views/AppMarket/UserAppManageEdit.cshtml", Model)
                </text>
            }
        }
    }
    else
    {
        <text>
            @Html.Partial("~/Views/AppMarket/UserAppManageNewApp.cshtml")
        </text>
    }
}
@section ScriptLabel
{
    <script src="~/js/pagelogic/appmarket_userappmanageinfo.js"></script>
}
@section ChildrenScript
{
    
    NewCrm.AppMarket.UserAppManageInfo.url='@(NewCrmCore.Infrastructure.Appsetting.UploadUrl)?userId=@userId&uploadtype=icon'
    NewCrm.AppMarket.UserAppManageInfo.appId ='@Context.Request.Query["AppId"]'
}

